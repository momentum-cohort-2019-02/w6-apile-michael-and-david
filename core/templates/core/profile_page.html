{% extends 'base.html' %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    {% block content %}
        {% for post in user.authored_posts.all %}
        <div class="flex flex-column">  
            <div class=" bw5 b--moon-gray shadow-5 bg-white  bl br3   mr2  ml7 mr7 gray w-70  h-50 shadow-5  ">  
            <div class="flex justify-between">
                <a class="helvetica link:link link dim black-90 dib mr3 f3 fw9 bb bw3 b--blue shadow-5" href="{{ post.url }}"><p>{{ post.title }}</p></a>
                {% if request.user.is_authenticated %}
                <form action="{% url 'favorite_post' slug=post.slug %}" method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="next" value="{{ request.path }}">
                        <button type="submit" class="mt3 mr3">
                            {% if request.user in post.liked_by.all %}
                            Unfavorite
                            {% else %}
                            Favorite
                            {% endif %}
                        </button>  
                    </form>
                {% endif %}
            </div>
            <code class="helvetica lh-copy dark-red"><p>Posted By: {{ post.author }}</p></code>
            <code class="helvetica f5 lh-solid b--dark-gray  ">{{ post.description}}</code>
            <code class="helvetica dark-red"><h4>{{ post.date_added }}</h4></code>
            <a class="helvetica link:link link dim dib mr3 lh-copy" href="{{ post.get_absolute_url }}
            "><h4>Reply</h4></a>
            </div>
            <br>
            <br>
            <br>  
        </div>
        {% endfor %}
    {% endblock %}
</body>
</html>